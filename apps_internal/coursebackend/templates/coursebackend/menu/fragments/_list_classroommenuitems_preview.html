{% comment %}

This fragment is a preview for menu items that are shown on the left, where on the right
a link is provided for creating new items.

for update / insert and detail and preview

{% endcomment %}

<div class="ui fluid vertical menu" id="classroom_preview_menu">

    <div class="header item active" id="classroom_header">
      Klassenzimmer-Men√º {{ courseevent.title }}
    </div>

    {% for menuitem in classroommenuitems %}

        {% url 'coursebackend:menu:update' pk=menuitem.pk course_slug=cs slug=es as list_update_url %}
        {% url 'coursebackend:menu:delete' pk=menuitem.pk course_slug=cs slug=es as list_delete_url %}

        {% if menuitem.item_type == menuitem.MENU_ITEM_TYPE.header_item %}

            <a href="{{ list_update_url }}" class="item header
            {% if menuitem.pk == object.pk %}active{% endif %}">

                {% if menuitem.pk != object.pk %}
                    <i class="write blue icon"></i>
                {% endif %}
                ({{ menuitem.display_nr }})
                {{ menuitem.display_title }}

            </a>

        {% else %}

            <a href="{{ list_update_url }}" class="item
            {% if menuitem.pk == object.pk %}active{% endif %}">

                {% if menuitem.pk != object.pk %}
                    <i class="write blue icon"></i>
                {% endif %}

                {{ menuitem.display_title }}

                {% if menuitem.is_start_item %}
                    <i class="red icon circle"></i>
                {% endif %}

                {% if menuitem.active %}
                    <i class="green icon circle outline"></i>
                {% endif %}

                <div class="meta" style="font-size:0.9em;">
                    ({{ menuitem.display_nr }}:
                    {{ menuitem.get_item_type_display }})
                    <br>
                    {% if menuitem.is_object_link %}

                        {% if menuitem.item_type == menuitem.MENU_ITEM_TYPE.forum_item %}
                            {{ menuitem.forum }}
                        {% elif menuitem.item_type == menuitem.MENU_ITEM_TYPE.lesson_item %}
                            {{ menuitem.classlesson }}
                        {% elif menuitem.item_type == menuitem.MENU_ITEM_TYPE.homework_item %}
                            {{ menuitem.homework }}
                        {% endif %}

                    {% endif %}

                </div>

            </a>

        {% endif %}

    {% endfor %}

</div>