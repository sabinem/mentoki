{% load mptt_tags %}
<div class="ui relaxed divided list">

    {% recursetree nodes %}
        {% if node.is_lesson %}
            {% url "classroom:classlesson:lesson" slug=cs pk=node.pk as detail_url %}
        {% elif node.is_step %}
            {% url "classroom:classlesson:step" slug=cs pk=node.pk as detail_url %}
        {% endif %}
        <div class="item">

            <i class="top aligned icon">{{ node.lesson_nr }}</i>

            <div class="content">

                <div class="header large">

                    <div class="ui header large">{{ node.title }}</div>
                    <a href="{{ detail_url }}">
                       {{ node.title }}xxxx
                    </a>
                    </div>

                </div>

                <div class="description">{{ node.description }}</div>

                {% if not is_leaf %}
                    <div class="list">
                        {{ children }}
                    </div>
                {% endif %}

            </div>
        </div>

    {% endrecursetree %}

</div>